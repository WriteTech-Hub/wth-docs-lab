name: Create Documentation Issue

on:
  pull_request:
    types:
      - labeled

jobs:
  create-docs-issue:
    if: contains(github.event.label.name, 'documentation')
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: read
    steps:
      - name: Create documentation issue
        uses: actions/github-script@v7
        with:
          script: |
            const pr = context.payload.pull_request;
            const prTitle = pr.title;
            const prNumber = pr.number;
            const prUrl = pr.html_url;
            const prAuthor = pr.user.login;

            const issueTitle = `Docs: ${prTitle}`;
            const issueBody = `
Hi @docs-team ðŸ‘‹

This documentation issue was automatically created for the following pull request:

ðŸ”— **PR [#${prNumber}](${prUrl})**
ðŸ‘¤ Opened by: @${prAuthor}

Please assess and track any documentation updates needed.

---

_This issue was auto-generated by a GitHub Action._
`;

            const { data: issue } = await github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: issueTitle,
              body: issueBody,
              labels: ['documentation']
            });

            console.log(`Created issue: ${issue.html_url}`);


